//=========================================
//
// comment     : MapleStory Utility
// param       : None
// return      : None
// 
// Display Dpl : 1366x768 [only]
//
// Copy Right (C) 2018 All Right Reserved. 
//   @author k.kawabata @kawaken1025
//     Create Date : 2018/04/28
//=========================================

CALL ../Log/logWriter.uws
CALL ../Common/Messages.uws

CLASS lib

//=========================================
//
// comment : ファミリアの気力が500以下であれば回復
// param   : None
// return  : 0 
//
//=========================================

	function checkFamiliarPower()
		
		KBD(VK_F6,0,300);
		SLEEP(0.5);
		ifb chkimg("../picture/fam500以下.bmp",0,0,0,1368,800);
			KBD(VK_4,0,300);
			logger.logWriter(LogLevel.LOG_INFO,Messages.RECOVERY_FAMILIAR_POWER);
		endif;
		KBD(VK_F6,0,300);
	
		result = 0;
	fend

//=========================================
//
// comment : テレポート職業限定　往復狩
// param   : None
// return  : 0 
//
//=========================================
//  	                                     攻撃キー         移動キー     黄点x起点    黄点y起点   黄点x終点   黄点y終点
	function roundTripTeleportAttack( execKBD_Attack, execKBD_Move, yellowX_S, yellowY_S, yellowX_E, yellowY_E, );

		KBD(execKBD_Move,1,500);
		
		while true;
			KBD(execKBD_Attack,0,200);
			KBD(execKBD_Attack,0,200);
			KBD(VK_SPACE,0,200);
			KBD(VK_SPACE,0,200);
			if chkimg("../picture/黄点.bmp",0,yellowX_S,yellowY_S,yellowX_E,yellowY_E) then break;
		wend;

		KBD(execKBD_Move,2,500);

		result = 0;
	fend

//=========================================
//
// comment : 異常の確認
// param   : None
// return  : 0
//
//=========================================
	function urgentCheck()

		IF CHKIMG("../picture/エリボス.BMP",0,0,0,2000,2000) THEN SOUND(" ");
		IF CHKIMG("../picture/緑点.BMP",0,0,0,1368,800)   THEN EXITEXIT;
		IF CHKIMG("../picture/突発.BMP",0,0,0,1368,800)   THEN BTN(LEFT,CLICK,G_IMG_X,G_IMG_Y);

		result = 0
	fend

//=========================================
//
// comment : メイプルをアクティブウィンドウにする
//           1366x800 Mode           
//           2018/04/18 Ver3.68 対策済
// param   : None
// return  : 0
//
//=========================================
	function activeWindow()

		ACW(GETID("MapleStory","MapleStoryClass"),1,1)
		BTN(LEFT,CLICK,1400,600,100,500) 
		BTN(LEFT,CLICK,200,405,500) 

		result = 0 

	fend

ENDCLASS