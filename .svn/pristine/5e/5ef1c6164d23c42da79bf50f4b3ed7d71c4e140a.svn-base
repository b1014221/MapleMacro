// (C)2010- メイプルストーリーマクロ生活 http://maplez2.blog90.fc2.com/
// 一部・全部に関わらず、転載・転売等は一切お断りします。
// 違反された場合、他の購入者の権利をを守るためにも、
// 刑事告訴等の法的措置を取らざるを得ません。
// その場合、民事提訴にて損害賠償の請求をさせて頂きます。

THREAD 並列処理() //一番↓で指定した処理を、メイン部分と並列で実行

//▼▼自動狩りメイン部分ココから▼▼
ACW(GETID("MapleStory","MapleStoryClass"),1,1)

//▼▼ヒールの回数調整はココでまとめて行います▼▼
HEAL = 15 // ←15の数値を増減させる。ヒール1回なら5、2回なら10、くらいに調整。

//▼▼ペットのエサの設定１▼▼
PET = GETTIME( 900 / 86400 )
//▲▲ココまで▲▲

WHILE TRUE

//薬の残量を確認、HP薬が9個以下、MP薬が0個だった場合はログアウト
IF CHKIMG("../画像/白い薬9.BMP",0,0,0,800,580) THEN CALL ../共通/ログアウト.UWS
IF CHKIMG("../画像/マナエリ0.BMP",0,0,0,800,580) THEN CALL ../共通/ログアウト.UWS

//滞在マップ確認・この画像を発見したら異常が起きたと判断してログアウト
IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS

//モンスターブックの新しいタブが開放された時のメッセージを自動で閉じる
IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)

//▼▼上段左へ移動▼▼
KBD(VK_LEFT,1)
KBD(VK_UP,1)
WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,66,200)
IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
WEND
KBD(VK_HOME,0)
WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,52,200)
IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
WEND
KBD(VK_LEFT,2)
KBD(VK_UP,2)

FOR X = 1 TO HEAL
KBD(VK_SHIFT,0,100)
NEXT
IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)

//▼▼下に降りて殲滅×4▼▼
FOR Y = 1 TO 4
	CHKIMG("../画像/黄点.BMP",0,0,0,100,200)
	IFB G_IMG_X < 49
		KBD(VK_RIGHT,1)
		WHILE CHKIMG("../画像/黄点.BMP",0,0,0,49,200)
		WEND
		KBD(VK_RIGHT,2)
	ELSEIF G_IMG_X > 53
		KBD(VK_LEFT,1)
		WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,53,200)
		IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
		WEND
		KBD(VK_LEFT,2)
	ENDIF
	
	KBD(VK_DOWN,1)
	FOR X = 1 TO 5
	KBD(VK_C,0,100)
	NEXT
	KBD(VK_DOWN,2,300)
	
	FOR X = 1 TO HEAL
	KBD(VK_SHIFT,0,100)
	NEXT

	IF !CHKIMG("../画像/黄点.BMP",0,0,0,100,190) THEN BREAK
	IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
	IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)
NEXT

//▼▼ハシゴへ移動▼▼
WHILE TRUE
	IFB !CHKIMG("../画像/黄点.BMP",0,0,0,63,200)
		KBD(VK_LEFT,1)
		WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,62,200)
		IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
		WEND
		KBD(VK_LEFT,2)
	ENDIF

	KBD(VK_RIGHT,1)
	IF CHKIMG("../画像/黄点.BMP",0,0,0,50,200) THEN KBD(VK_HOME,0,300)
	WHILE CHKIMG("../画像/黄点.BMP",0,0,0,64,200)
	WEND
	KBD(VK_UP,1)
	KBD(VK_C,0)
	SLEEP(1)

	IF CHKIMG("../画像/黄点.BMP",0,0,0,100,195) THEN BREAK
	
	KBD(VK_UP,2)
	KBD(VK_RIGHT,2)	
	FOR X = 1 TO HEAL
	KBD(VK_SHIFT,0,100)
	NEXT
	IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
	IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)
WEND

//▼▼上段右へ移動▼▼
WHILE CHKIMG("../画像/黄点.BMP",0,0,0,68,200)
WEND
KBD(VK_HOME,0)
WHILE CHKIMG("../画像/黄点.BMP",0,0,0,82,200)
WEND
KBD(VK_RIGHT,2)
KBD(VK_UP,2)

FOR X = 1 TO HEAL
KBD(VK_SHIFT,0,100)
NEXT
IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)

//▼▼下に降りて殲滅×4▼▼
FOR Y = 1 TO 4
	CHKIMG("../画像/黄点.BMP",0,0,0,100,200)
	IFB G_IMG_X < 80
		KBD(VK_RIGHT,1)
		WHILE CHKIMG("../画像/黄点.BMP",0,0,0,80,200)
		WEND
		KBD(VK_RIGHT,2)
	ELSEIF G_IMG_X > 85
		KBD(VK_LEFT,1)
		WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,85,200)
		IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
		WEND
		KBD(VK_LEFT,2)
	ENDIF
	
	KBD(VK_DOWN,1)
	FOR X = 1 TO 5
	KBD(VK_C,0,100)
	NEXT
	KBD(VK_DOWN,2,300)
	
	FOR X = 1 TO HEAL
	KBD(VK_SHIFT,0,100)
	NEXT

	IF !CHKIMG("../画像/黄点.BMP",0,0,0,100,190) THEN BREAK
	IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
	IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)
NEXT

//▼▼ハシゴへ移動▼▼
WHILE TRUE
	IFB CHKIMG("../画像/黄点.BMP",0,0,0,72,200)
		KBD(VK_RIGHT,1)
		WHILE CHKIMG("../画像/黄点.BMP",0,0,0,72,200)
		WEND
		KBD(VK_RIGHT,2)
	ENDIF

	KBD(VK_LEFT,1)
	IF !CHKIMG("../画像/黄点.BMP",0,0,0,85,200) THEN KBD(VK_HOME,0,300)
	WHILE !CHKIMG("../画像/黄点.BMP",0,0,0,71,200)
	IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
	WEND
	KBD(VK_UP,1)
	KBD(VK_C,0)
	SLEEP(1)

	IF CHKIMG("../画像/黄点.BMP",0,0,0,100,195) THEN BREAK
	
	KBD(VK_UP,2)
	KBD(VK_LEFT,2)	
	FOR X = 1 TO HEAL
	KBD(VK_SHIFT,0,100)
	NEXT
	IF CHKIMG("../画像/ペリオン.BMP",0,0,0,250,250) THEN CALL ../共通/ログアウト.UWS
	IF CHKIMG("../画像/タブ確認.BMP",0,0,0,550,400) THEN KBD(VK_ESC,0)
WEND

//▼▼ペットのエサの設定２▼▼
IFB GETTIME() > PET
KBD(VK_T,0,500)// ←Tを押す命令　必要なら変更してください
SLEEP(0.1)
PET = GETTIME( 900 / 86400 )
ENDIF
//▲▲ココまで▲▲

WEND
//▲▲自動狩りメイン部分ココまで▲▲


PROCEDURE 並列処理()
WHILE TRUE
//▼▼自動狩りメイン部分と並列して繰り返し行う処理ココから▼▼



//▲▲ココまで▲▲
WEND
FEND
